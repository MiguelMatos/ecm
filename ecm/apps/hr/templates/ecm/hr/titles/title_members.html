{% extends "ecm/hr/hr_base.html" %}

{% load i18n %}
{% load static from staticfiles %}

{% block headtitle %}{% trans 'Title Members' %} - {{ title.titleName }}{% endblock %}


{% block breadcrumbs %}
<li><a href="/">{% trans 'Home' %}</a></li>
<li><a href="/hr/">{% trans 'Human Resources' %}</a></li>
<li><a href="/hr/titles/">{% trans 'Titles' %}</a></li>
<li><a href="/hr/titles/{{ title.titleID }}/">{{ title.titleName }}</a></li>
<li class="active"><a href="/hr/titles/{{ title.titleID }}/members/">{% trans 'Members' %}</a></li>
{% endblock %}

{% block main_content %}
<div class="page-header">
  <h1>Members <small>having the title <em>{{ title.titleName }}</em></small></h1>
</div>

<form id="search_form" class="form-search form-inline">
  <div class="btn-toolbar" >
    <i class="icon-search"></i>
    <input type="text" id="search_text" class="input-medium search-query" value="" />
    <div class="btn-group">
      <button class="btn btn-small" type="submit" id="search_button">{% trans 'Search' %}</button>
      <button class="btn btn-small" id="clear_search">{% trans 'Reset' %}</button>
    </div>
  </div>
</form>

{% datatable 'members_table' columns 
             css_class='table table-bordered table-condensed' 
             defaults=datatables_defaults 
             sAjaxSource='/hr/titles/'|concat:title.titleID|concat:'/members/data/' 
             sCookiePrefix='ecm_title_members_table_' 
             fnRowCallback='membersRowCallback' %}
{% endblock %}


{% block javascripts %}
<script type="text/javascript">
DIRECTOR_ACCESS_LVL = {{ directorAccessLvl }};
COLOR_THRESHOLDS = {{ colorThresholds|safe }};
{% include "ecm/hr/members_datatable.js" %}
</script>
{% endblock %}
